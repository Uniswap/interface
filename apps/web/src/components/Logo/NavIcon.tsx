import { SVGProps, useMemo } from 'react'
import { useTranslation } from 'react-i18next'
import { Flex, styled, useSporeColors } from 'ui/src'

function Logo({ color, onClick }: { color: string; onClick?: () => void }) {
  return (
    <svg
      width="21"
      height="21"
      viewBox="0 0 21 21"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      onClick={onClick}
      cursor="pointer"
    >
      <path
        d="M1.428 7.05251C0.5075 7.97301 0 9.19801 0 10.5C0 16.289 4.711 21 10.5 21C14.3115 21 17.6575 18.956 19.4985 15.9075C18.5185 16.52 17.3635 16.8735 16.128 16.8735C12.614 16.8735 9.7545 14.014 9.7545 10.5C9.7545 7.63001 7.749 5.62451 4.879 5.62451C3.577 5.62451 2.352 6.13201 1.4315 7.05251H1.428Z"
        fill="#FFCF24"
      />
      <path
        d="M20.9997 10.5C20.9997 4.711 16.2887 0 10.4997 0C7.69622 0 5.05722 1.092 3.07622 3.0765C2.46022 3.6925 1.92822 4.3715 1.49072 5.0995C2.47072 4.4835 3.63272 4.1265 4.87522 4.1265C8.38922 4.1265 11.2487 6.986 11.2487 10.5C11.2487 13.37 13.2542 15.3755 16.1242 15.3755C18.8122 15.3755 20.9997 13.188 20.9997 10.5Z"
        fill="#F7911A"
      />
    </svg>
  )
}

function HolidayLogo({ color, onClick }: { color: string; onClick?: () => void }) {
  const { t } = useTranslation()
  const size = 32

  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 41 41"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      onClick={onClick}
      cursor="pointer"
      aria-label={t('common.happyHolidays')}
    >
      <g clipPath="url(#clip0_38_2)">
        <path
          d="M16.4448 0.5C16.4448 0.22386 16.221 0 15.9448 0C15.6687 0 15.4448 0.22386 15.4448 0.5V2.0673L14.0876 1.2837C13.8484 1.14562 13.5426 1.22756 13.4046 1.46671C13.2665 1.70585 13.3484 2.01165 13.5876 2.14972L14.9453 2.9336L13.5888 3.7168C13.3496 3.85487 13.2677 4.16067 13.4058 4.39981C13.5438 4.63896 13.8496 4.7209 14.0888 4.58283L15.4448 3.79991V5.36622C15.4448 5.64236 15.6687 5.86622 15.9448 5.86622C16.221 5.86622 16.4448 5.64236 16.4448 5.36622V3.79935L17.8018 4.58283C18.041 4.7209 18.3468 4.63896 18.4849 4.39981C18.6229 4.16067 18.541 3.85487 18.3018 3.7168L16.9453 2.9336L18.303 2.14972C18.5422 2.01165 18.6241 1.70585 18.486 1.46671C18.348 1.22756 18.0422 1.14562 17.803 1.2837L16.4448 2.06786V0.5Z"
          fill={color}
        />
        <path
          d="M17.2884 17.0901C17.2286 17.3208 17.1243 17.5374 16.9813 17.7277C16.7151 18.0747 16.3628 18.3453 15.9597 18.5125C15.5972 18.6694 15.2132 18.7709 14.8207 18.8134C14.7417 18.8234 14.6599 18.8297 14.5804 18.8358L14.5621 18.8372C14.3135 18.8467 14.0745 18.9359 13.88 19.0917C13.6855 19.2476 13.5458 19.4619 13.4813 19.7032C13.4518 19.8233 13.4298 19.9451 13.4156 20.068C13.3931 20.2525 13.3815 20.4413 13.3689 20.6455L13.3688 20.6482C13.3598 20.7954 13.3502 20.9507 13.3358 21.118C13.2514 21.7996 13.0551 22.4624 12.755 23.0795C12.6937 23.2092 12.6312 23.335 12.5697 23.4585C12.2408 24.1203 11.9434 24.7186 12.0287 25.5194C12.0955 26.1365 12.4102 26.55 12.8283 26.9765C13.0267 27.1802 13.2896 27.3544 13.5626 27.5352L13.5635 27.5358C14.3285 28.0422 15.1719 28.6006 14.894 30.0074C14.6666 31.1473 12.7852 32.3435 10.1408 32.7613C10.3971 32.7222 9.83296 31.755 9.76966 31.6465L9.76576 31.6398C9.69456 31.5277 9.62156 31.4173 9.54876 31.3071L9.54066 31.2948C9.32646 30.9705 9.11326 30.6477 8.94686 30.29C8.50506 29.3515 8.30026 28.2657 8.48126 27.2373C8.64516 26.3068 9.25746 25.5635 9.84706 24.8478C9.94326 24.7311 10.0393 24.6146 10.1322 24.4987C10.921 23.5147 11.7486 22.2254 11.9317 20.9481C11.9472 20.8371 11.961 20.7161 11.9755 20.5888L11.976 20.5844C12.0018 20.3577 12.03 20.1112 12.074 19.8656C12.1397 19.4387 12.2729 19.025 12.4684 18.6402C12.6018 18.3879 12.7775 18.1605 12.9878 17.968C13.0974 17.8658 13.1697 17.7296 13.1932 17.5812C13.2166 17.4329 13.1898 17.2809 13.1171 17.1496L8.90156 9.53322L14.9565 17.0392C15.0255 17.1262 15.1126 17.1969 15.2118 17.2462C15.311 17.2955 15.4198 17.3223 15.5304 17.3247C15.6411 17.3271 15.7509 17.305 15.8521 17.2599C15.9533 17.2149 16.0434 17.148 16.116 17.0641C16.1927 16.9743 16.2362 16.8606 16.2391 16.7422C16.2421 16.6239 16.2043 16.5082 16.1321 16.4146C15.855 16.0589 15.5668 15.6984 15.2797 15.3394L15.266 15.3222C15.148 15.1747 15.0301 15.0272 14.9134 14.8807L13.3897 12.9864L10.3315 9.20412L6.93576 5.16588L10.7238 8.86532L13.9791 12.4808L15.6031 14.2929C15.7511 14.4603 15.899 14.6262 16.0469 14.7921L16.0506 14.7962C16.4402 15.2329 16.8298 15.6698 17.2194 16.1332L17.3078 16.2414L17.3272 16.4092C17.3534 16.6367 17.3403 16.8671 17.2884 17.0901Z"
          fill={color}
        />
        <path
          d="M26.9818 16.7721C26.7603 17.0018 26.6213 17.2939 26.5773 17.6018C26.3601 17.5581 26.1436 17.5063 25.9284 17.4447C25.7129 17.383 25.4974 17.3158 25.2894 17.2347C25.1816 17.1957 25.0814 17.1535 24.9748 17.108C24.8681 17.0625 24.7592 17.0106 24.6515 16.9554C24.2461 16.7323 23.8706 16.4584 23.534 16.1403C22.9226 15.5689 22.4319 14.9269 21.9498 14.2962L21.826 14.1344C21.3333 13.4498 20.8046 12.7922 20.242 12.1643C19.687 11.5492 19.0309 11.0344 18.3024 10.6423C17.5481 10.2606 16.7287 10.0256 15.8875 9.94952C16.7602 9.85432 17.643 9.96252 18.4673 10.2656C19.299 10.59 20.0594 11.075 20.7054 11.6934C21.1272 12.0907 21.523 12.5148 21.8906 12.9631C23.8137 12.5828 25.4815 12.707 26.895 13.1381C26.6531 13.4878 26.5606 13.9375 26.6793 14.3804C26.7168 14.5202 26.7728 14.6501 26.844 14.7681C26.7227 14.9227 26.63 15.1039 26.5759 15.3057C26.43 15.8505 26.6036 16.4056 26.9818 16.7721Z"
          fill={color}
        />
        <path
          d="M33.9255 27.3398C34.7143 26.3096 35.174 23.9847 34.1192 22.0407C33.8755 22.2119 33.5784 22.3125 33.2579 22.3125C32.5739 22.3125 31.9968 21.8547 31.8164 21.2287C31.31 21.3728 30.7426 21.2456 30.3438 20.8469C30.2104 20.7135 30.1073 20.5612 30.0346 20.3986C29.8574 20.417 29.6738 20.404 29.4914 20.3551C28.9461 20.209 28.5518 19.7805 28.4239 19.2691C27.8455 19.4129 27.2228 19.1989 26.8587 18.7082C25.7254 18.5075 24.7209 18.2058 24.0193 17.4534C23.5876 20.771 26.4874 21.9531 29.2596 23.0831C31.69 24.0738 34.0227 25.0247 33.9255 27.3398Z"
          fill={color}
        />
        <path
          d="M18.0908 21.4226C18.8225 21.3522 20.3818 20.9701 19.6846 19.7371C19.5346 19.4863 19.3172 19.2831 19.0574 19.1507C18.7976 19.0184 18.5059 18.9624 18.2158 18.9891C17.9215 19.0209 17.6439 19.1428 17.4209 19.3384C17.1979 19.534 17.0401 19.7937 16.9691 20.0824C16.7525 20.8889 16.982 21.5308 18.0908 21.4226Z"
          fill={color}
        />
        <path
          d="M17.8806 11.6673C17.4216 11.1347 16.7093 10.8554 16.011 10.7537C15.9849 10.9284 15.9684 11.1044 15.9615 11.2809C15.9302 12.7346 16.4442 14.3313 17.4388 15.4409C17.757 15.7996 18.1407 16.0935 18.5692 16.3069C18.817 16.4281 19.4744 16.729 19.7179 16.4584C19.7364 16.4336 19.7481 16.4043 19.7517 16.3735C19.7553 16.3427 19.7507 16.3115 19.7384 16.2831C19.698 16.1672 19.6201 16.062 19.5427 15.9576C19.4878 15.8836 19.4332 15.81 19.3925 15.7331C19.3513 15.6557 19.3072 15.5801 19.2632 15.5047C19.1805 15.3629 19.098 15.2214 19.0347 15.0674C18.8678 14.6646 18.7809 14.2364 18.6943 13.8094L18.6941 13.8084C18.6768 13.723 18.6594 13.637 18.6414 13.5519C18.5089 12.8927 18.3397 12.1999 17.8806 11.6673Z"
          fill={color}
        />
        <path
          d="M27.6881 23.2639C26.976 25.2602 28.1245 26.9463 29.2663 28.6225C30.5434 30.4973 31.8121 32.3599 30.4585 34.6301C33.0889 33.539 34.3378 30.2428 33.2462 27.6275C32.5584 25.9733 30.9006 25.0765 29.3618 24.2442C28.7648 23.9213 28.1856 23.608 27.6881 23.2639Z"
          fill={color}
        />
        <path
          d="M19.991 28.0292C19.5143 28.2246 19.0648 28.4811 18.6537 28.7924C19.5885 28.4518 20.5697 28.2573 21.5632 28.2154C21.741 28.2048 21.92 28.1965 22.1005 28.1881L22.1111 28.1876C22.4256 28.173 22.7456 28.1583 23.0718 28.131C23.6087 28.0944 24.1383 27.9851 24.6461 27.8062C25.1783 27.6192 25.6626 27.316 26.0642 26.9186C26.47 26.5083 26.7546 25.9931 26.8864 25.4301C27.0024 24.8983 26.9861 24.346 26.839 23.8221C26.6918 23.2981 26.4183 22.8187 26.0427 22.4262C26.2239 22.888 26.3354 23.3743 26.3735 23.8692C26.4063 24.3299 26.3439 24.7924 26.1903 25.2277C26.0403 25.6403 25.7951 26.0113 25.4748 26.3102C25.1439 26.6121 24.7608 26.8505 24.3444 27.0138C23.7658 27.2479 23.1114 27.3437 22.4299 27.4435C22.119 27.489 21.8022 27.5355 21.4845 27.5962C20.9736 27.6902 20.4732 27.8353 19.991 28.0292Z"
          fill={color}
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M28.2544 36.2705L28.2034 36.3117C28.0847 36.4076 27.9639 36.5051 27.834 36.5927C27.6659 36.7039 27.4898 36.8024 27.3071 36.8871C26.9266 37.0736 26.5084 37.1688 26.0851 37.1653C24.9386 37.1437 24.1282 36.2864 23.6541 35.3175C23.5298 35.0636 23.4203 34.8019 23.3108 34.5401C23.1355 34.1211 22.9602 33.702 22.7241 33.3149C22.1757 32.4154 21.2371 31.6912 20.138 31.8254C19.6897 31.8817 19.2694 32.0841 19.0205 32.4749C18.3653 33.4957 19.3061 34.9257 20.5054 34.7232C20.6074 34.7076 20.7072 34.68 20.8028 34.641C20.8981 34.6002 20.987 34.5459 21.0668 34.4797C21.2344 34.3395 21.3606 34.1562 21.4321 33.9493C21.5109 33.7335 21.5283 33.5 21.4827 33.2749C21.4335 33.0395 21.2952 32.8327 21.097 32.6979C21.3275 32.8063 21.5071 33.0004 21.5981 33.2391C21.6924 33.4849 21.7167 33.7521 21.6681 34.011C21.621 34.2806 21.5026 34.5326 21.3253 34.7406C21.2312 34.8475 21.1224 34.9405 21.0022 35.0166C20.883 35.0918 20.7552 35.1525 20.6217 35.1974C20.351 35.2903 20.063 35.3203 19.7791 35.2851C19.3805 35.228 19.0046 35.0642 18.6908 34.8109C18.6328 34.7649 18.5772 34.7167 18.5233 34.6667C18.3098 34.4817 18.116 34.2746 17.9451 34.0488C17.8684 33.964 17.7905 33.8803 17.7091 33.7999C17.3249 33.3949 16.8716 33.0624 16.3707 32.8181C16.0253 32.6657 15.6637 32.5531 15.2931 32.4825C15.1066 32.4435 14.9182 32.4154 14.7296 32.3916C14.7102 32.3896 14.6741 32.3833 14.6289 32.3755L14.6208 32.3741C14.4634 32.3466 14.2069 32.3019 14.1617 32.3439C14.7446 31.8049 15.3799 31.3262 16.0582 30.915C16.7547 30.4999 17.5025 30.1785 18.2824 29.9592C19.0909 29.7306 19.9367 29.6654 20.7705 29.7676C21.1997 29.8194 21.6201 29.9286 22.0205 30.0923C22.44 30.2607 22.8272 30.501 23.1649 30.8025C23.499 31.1187 23.7691 31.497 23.9601 31.9163C24.1326 32.309 24.2612 32.7196 24.3437 33.1406C24.3879 33.3672 24.4213 33.6161 24.4557 33.8738C24.6128 35.0481 24.7943 36.4031 26.1401 36.6392C26.2256 36.6559 26.3119 36.6682 26.3987 36.6761L26.667 36.6825C26.8515 36.6693 27.0348 36.6429 27.2155 36.6035C27.5899 36.5151 27.9548 36.39 28.3049 36.2301L28.2544 36.2705ZM18.1137 34.2377C18.0807 34.2014 18.0481 34.1648 18.0159 34.1278L18.1137 34.2377Z"
          fill={color}
        />
        <path
          d="M27.6304 11.5632C27.4924 11.8023 27.5743 12.1081 27.8135 12.2462L29.3664 13.1428L27.9983 13.5095C27.7315 13.581 27.5732 13.8551 27.6447 14.1219C27.7162 14.3886 27.9904 14.5469 28.2571 14.4754L30.5911 13.8499L32.2589 14.8128L30.4867 15.8359L28.1537 15.2111C27.887 15.1396 27.6129 15.2979 27.5414 15.5647C27.47 15.8314 27.6283 16.1056 27.895 16.177L29.2618 16.5431L27.812 17.3802C27.5728 17.5182 27.4909 17.824 27.6289 18.0632C27.767 18.3023 28.0728 18.3843 28.312 18.2462L29.7628 17.4086L29.3961 18.7771C29.3247 19.0439 29.483 19.318 29.7497 19.3895C30.0165 19.4609 30.2906 19.3026 30.3621 19.0359L30.9875 16.7015L32.7574 15.6796V17.7254L31.0503 19.4329C30.855 19.6282 30.8551 19.9448 31.0504 20.14C31.2456 20.3353 31.5622 20.3352 31.7575 20.1399L32.7574 19.1398V20.8128C32.7574 21.0889 32.9813 21.3128 33.2574 21.3128C33.5335 21.3128 33.7574 21.0889 33.7574 20.8128V19.1377L34.7598 20.14C34.955 20.3352 35.2716 20.3352 35.4669 20.14C35.6621 19.9447 35.6621 19.6281 35.4668 19.4329L33.7574 17.7236V15.6779L35.5303 16.7015L36.1556 19.0359C36.2271 19.3026 36.5013 19.4609 36.768 19.3895C37.0347 19.318 37.193 19.0439 37.1216 18.7771L36.7549 17.4086L38.2058 18.2462C38.4449 18.3843 38.7507 18.3023 38.8888 18.0632C39.0268 17.824 38.9449 17.5182 38.7058 17.3802L37.2559 16.5431L38.6227 16.177C38.8894 16.1056 39.0477 15.8314 38.9763 15.5647C38.9049 15.2979 38.6307 15.1396 38.364 15.2111L36.031 15.8359L34.2589 14.8128L35.9266 13.8499L38.2606 14.4754C38.5273 14.5469 38.8015 14.3886 38.873 14.1219C38.9445 13.8551 38.7862 13.581 38.5195 13.5095L37.1513 13.1428L38.7043 12.2462C38.9434 12.1081 39.0253 11.8023 38.8873 11.5632C38.7492 11.324 38.4434 11.2421 38.2043 11.3802L36.6518 12.2765L37.0183 10.9094C37.0898 10.6427 36.9315 10.3685 36.6648 10.297C36.3981 10.2255 36.1239 10.3838 36.0524 10.6505L35.4269 12.9837L33.7574 13.9476V12.0212L35.4668 10.3119C35.6621 10.1166 35.6621 9.80002 35.4669 9.60482C35.2716 9.40952 34.955 9.40952 34.7598 9.60472L33.7574 10.607V8.81282C33.7574 8.53662 33.5335 8.31282 33.2574 8.31282C32.9813 8.31282 32.7574 8.53662 32.7574 8.81282V10.6049L31.7575 9.60482C31.5622 9.40952 31.2456 9.40952 31.0504 9.60472C30.8551 9.79992 30.855 10.1165 31.0503 10.3118L32.7574 12.0193V13.9459L31.0908 12.9837L30.4653 10.6505C30.3939 10.3838 30.1197 10.2255 29.8529 10.297C29.5862 10.3685 29.428 10.6427 29.4995 10.9094L29.8659 12.2765L28.3135 11.3802C28.0743 11.2421 27.7685 11.324 27.6304 11.5632Z"
          fill={color}
        />
        <path
          d="M7.86625 38.6284C7.86625 38.9046 7.64235 39.1284 7.36625 39.1284H5.79836L6.58252 40.4867C6.72059 40.7258 6.63866 41.0316 6.39951 41.1697C6.16036 41.3077 5.85457 41.2258 5.7165 40.9867L4.93261 39.6289L4.14942 40.9855C4.01135 41.2246 3.70555 41.3066 3.4664 41.1685C3.22726 41.0304 3.14532 40.7246 3.28339 40.4855L4.06687 39.1284H2.5C2.22386 39.1284 2 38.9046 2 38.6284C2 38.3523 2.22386 38.1284 2.5 38.1284H4.06631L3.28339 36.7724C3.14532 36.5332 3.22726 36.2275 3.4664 36.0894C3.70555 35.9513 4.01135 36.0332 4.14942 36.2724L4.93262 37.6289L5.7165 36.2712C5.85457 36.0321 6.16036 35.9501 6.39951 36.0882C6.63866 36.2263 6.72059 36.5321 6.58252 36.7712L5.79892 38.1284H7.36625C7.64235 38.1284 7.86625 38.3523 7.86625 38.6284Z"
          fill={color}
        />
      </g>
      <defs>
        <clipPath id="clip0_38_2">
          <rect width="41" height="41" fill="white" />
        </clipPath>
      </defs>
    </svg>
  )
}

const Container = styled(Flex, {
  position: 'relative',
  justifyContent: 'center',
  alignItems: 'center',
  cursor: 'auto',
  variants: {
    clickable: {
      true: { cursor: 'pointer' },
    },
  },
})

type NavIconProps = SVGProps<SVGSVGElement> & {
  clickable?: boolean
  onClick?: () => void
}

export const NavIcon = ({ clickable, onClick }: NavIconProps) => {
  const colors = useSporeColors()
  const showHolidayUni = useMemo(() => {
    const date = new Date()
    // months in javascript are 0 indexed...
    const month = date.getMonth() + 1
    const day = date.getDate()
    return month === 12 || (month === 1 && day <= 7)
  }, [])

  return (
    <Container clickable={clickable}>
      {showHolidayUni ? (
        <HolidayLogo color={colors.accent1.val} onClick={onClick} />
      ) : (
        <Logo color={colors.accent1.val} onClick={onClick} />
      )}
    </Container>
  )
}
